export default function form(){document.querySelectorAll(".form input").forEach(e=>{("first-name"==e.name||"last-name"==e.name&&"text"==e.type)&&e.addEventListener("blur",(function(t){var s;e.value&&(s=e.value,/\d/.test(s)?(e.closest("label").classList.add("is-error"),e.closest("label").classList.remove("is-valid")):(e.closest("label").classList.remove("is-error"),""!=e.value&&e.closest("label").classList.add("is-valid")))})),"email"==e.type&&e.addEventListener("blur",(function(t){var s;e.value&&(s=e.value,/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(s)?(e.closest("label").classList.remove("is-error"),""!=e.value&&e.closest("label").classList.add("is-valid")):(e.closest("label").classList.add("is-error"),e.closest("label").classList.remove("is-valid")))}))}),document.querySelectorAll(".form").forEach(e=>{e.addEventListener("submit",(function(t){if(t.preventDefault(),!e.querySelector(".is-error")&&admin_ajax_url){e.classList.add("is-loading");let t="action="+e.getAttribute("action");e.querySelectorAll("input, textarea").forEach(e=>{e.value&&(t+=`&${e.name}=${e.value}`)}),fetch(admin_ajax_url,{method:"POST",body:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then(e=>200!==e.status?Promise.reject():e.text()).then(t=>{"success"==t?(e.classList.remove("is-loading"),e.classList.add("is-loaded")):e.classList.remove("is-loading")}).catch(t=>{console.log(t),e.classList.remove("is-loading")})}}))}),document.querySelectorAll(".form textarea").forEach(e=>{e.addEventListener("input",(function(t){e.parentElement.dataset.value=e.value})),e.addEventListener("blur",(function(t){""!=e.value?e.closest("label").classList.add("is-valid"):e.closest("label").classList.remove("is-valid")}))});const e=gsap.matchMedia();document.querySelectorAll(".tel-input").forEach(t=>{const s=window.intlTelInput(t,{utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.0.3/js/utils.js",initialCountry:"auto",useFullscreenPopup:!1,geoIpLookup:function(e){fetch("https://ipapi.co/json").then((function(e){return e.json()})).then((function(t){e(t.country_code)})).catch((function(){e("us")}))}});e.add("(min-width: 992px)",()=>{document.querySelectorAll(".iti__country-list").forEach(e=>{const t=new Lenis({wrapper:e,content:e});requestAnimationFrame((function e(s){t.raf(s),requestAnimationFrame(e)}))})});const a=t.closest(".tel-input-label");t.addEventListener("focus",(function(e){a.classList.add("is-active")})),t.addEventListener("blur",(function(e){""==t.value&&a.classList.remove("is-active"),""!=t.value&&t.value!="+"+s.getSelectedCountryData().dialCode&&(s.isValidNumber()?(a.classList.remove("is-error"),""!=t.value&&a.classList.add("is-valid")):(a.classList.add("is-error"),a.classList.remove("is-valid")))})),t.addEventListener("countrychange",(function(){a.classList.add("is-active"),t.value="+"+s.getSelectedCountryData().dialCode})),t.addEventListener("input",(function(){t.value=t.value.replace(/[^+\d]/g,"")}))})}
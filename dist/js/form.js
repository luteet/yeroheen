export default function form(e){document.querySelectorAll(".form input").forEach(e=>{("first-name"==e.name||"last-name"==e.name&&"text"==e.type)&&e.addEventListener("blur",(function(t){var l;e.value&&(l=e.value,/\d/.test(l)?(e.closest("label").classList.add("is-error"),e.closest("label").classList.remove("is-valid")):(e.closest("label").classList.remove("is-error"),""!=e.value&&e.closest("label").classList.add("is-valid")))})),"email"==e.type&&e.addEventListener("blur",(function(t){var l;e.value&&(l=e.value,/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(l)?(e.closest("label").classList.remove("is-error"),""!=e.value&&e.closest("label").classList.add("is-valid")):(e.closest("label").classList.add("is-error"),e.closest("label").classList.remove("is-valid")))}))}),document.querySelectorAll(".form").forEach(e=>{e.addEventListener("submit",(function(t){if(t.preventDefault(),console.log("submit"),!e.querySelector(".is-error")&&admin_ajax_url){e.classList.add("is-loading");let t="action="+e.getAttribute("action");e.querySelectorAll("input, textarea").forEach(e=>{e.value&&(t+=`&${e.name}=${e.value}`)}),fetch(admin_ajax_url,{method:"POST",body:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then(e=>200!==e.status?Promise.reject():e.text()).then(t=>{"success"==t?(e.classList.remove("is-loading"),e.classList.add("is-loaded")):e.classList.remove("is-loading")}).catch(t=>{console.log(t),e.classList.remove("is-loading")})}}))}),document.querySelectorAll(".form textarea").forEach(e=>{e.addEventListener("input",(function(t){e.parentElement.dataset.value=e.value})),e.addEventListener("blur",(function(t){""!=e.value?e.closest("label").classList.add("is-valid"):e.closest("label").classList.remove("is-valid")}))}),document.querySelectorAll("form").forEach(e=>{e.style.setProperty("--width-form",e.offsetWidth+"px")});document.querySelectorAll(".tel-input-label").forEach(e=>{e.style.setProperty("--width",e.offsetWidth+"px")}),document.querySelectorAll(".tel-input").forEach(t=>{const l=window.intlTelInput(t,{utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.0.3/js/utils.js",initialCountry:"auto",useFullscreenPopup:!1,geoIpLookup:function(t){t(e)}});window.innerWidth>=992&&document.querySelectorAll(".iti__country-list").forEach(e=>{e.setAttribute("data-lenis-prevent",!0)});const s=t.closest(".tel-input-label");t.addEventListener("focus",(function(e){s.classList.add("is-active")})),t.addEventListener("blur",(function(e){""==t.value&&s.classList.remove("is-active"),""!=t.value&&t.value!="+"+l.getSelectedCountryData().dialCode&&(l.isValidNumber()?(s.classList.remove("is-error"),""!=t.value&&s.classList.add("is-valid")):(s.classList.add("is-error"),s.classList.remove("is-valid")))})),t.addEventListener("countrychange",(function(){s.classList.add("is-active"),l.getSelectedCountryData().dialCode})),setTimeout(()=>{l.getSelectedCountryData().dialCode&&(t.value="+"+l.getSelectedCountryData().dialCode)},0),t.addEventListener("input",(function(){t.value=t.value.replace(/[^+\d]/g,"")}))})}
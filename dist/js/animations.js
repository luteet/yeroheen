export default function animations(e){const t=document.querySelector("body"),r=document.querySelector("html"),o=document.querySelector(".wrapper"),s=document.querySelector(".header");function a(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX}}const l=document.querySelectorAll(".start-button");let c=!1,i=!1;function n(){if(e<=992){let e=Math.abs(o.getBoundingClientRect().top);e>100&&!i?(i=!0,s.classList.add("on-scroll")):e<=100&&i&&(i=!1,s.classList.remove("on-scroll")),window.scrollY+window.innerHeight>o.offsetHeight-300&&!c?(c=!0,l.forEach(e=>{e.classList.add("is-hidden")})):window.scrollY+window.innerHeight<o.offsetHeight-300&&c&&(c=!1,l.forEach(e=>{e.classList.remove("is-hidden")}))}}function d(e){let t,r,o=document.querySelector(".header"),s=a(o),l=[!0,!0],c=!1,i=[0,0],n="";function d(){i[0]=s.top,s=a(o),i[1]=s.top,c||(c=!0,t=s.top+300,r=s.top-50),i[0]>i[1]?n="up":i[0]<i[1]&&(n="down"),"down"==n&&(r=s.top-50),"up"==n&&(t=s.top+300),r>=s.top&&l[0]&&(l[0]=!1,l[1]=!0,o.classList.remove("is-hide")),t<=s.top&&l[1]&&(l[1]=!1,l[0]=!0,o.classList.add("is-hide"))}d(),window.addEventListener("scroll",d)}window.addEventListener("scroll",n),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.config({ignoreMobileResize:!0}),document.querySelectorAll(".split-text p").forEach(e=>{new SplitType(e,{types:"lines, word"})}),document.querySelectorAll(".split-lines").forEach(e=>{let t=new SplitType(e,{types:"lines"});Array.from(t.lines).forEach(e=>{let t;t=e.cloneNode(!0),t.classList.remove("line"),t.classList.add("line-inner"),e.innerHTML="",e.append(t)})}),document.querySelectorAll(".split-text").forEach(e=>{gsap.set(e.querySelectorAll(".line"),{"--progress":"-20%","--progress-2":"0%"});const t=gsap.to(e.querySelectorAll(".line"),{"--progress":"100%","--progress-2":"120%",stagger:1,duration:1.5,immediateRender:!1,paused:!0});ScrollTrigger.create({trigger:e.closest("section"),scrub:1,start:"top +=50%",end:"+120% bottom",animation:t})});const g=gsap.matchMedia();g.add("(min-width: 992px)",()=>{const a=new Lenis;d();const n=document.querySelectorAll(".services__slide");document.querySelectorAll(".services__nav button").forEach((e,t)=>{e.addEventListener("click",(function(){a.scrollTo(n[t])}))}),a.on("scroll",e=>{let t=e.animatedScroll;t>100&&!i?(i=!0,s.classList.add("on-scroll")):t<=100&&i&&(i=!1,s.classList.remove("on-scroll")),t+window.innerHeight>o.offsetHeight-300&&!c?(c=!0,l.forEach(e=>{e.classList.add("is-hidden")})):t+window.innerHeight<o.offsetHeight-300&&c&&(c=!1,l.forEach(e=>{e.classList.remove("is-hidden")})),n.forEach((e,t)=>{const r=document.querySelectorAll(".services__nav button");e.getBoundingClientRect().top>0&&e.getBoundingClientRect().top<window.innerHeight/3&&!r[t].classList.contains("is-active")&&(r.forEach(e=>e.classList.remove("is-active")),r[t].classList.add("is-active"))})}),document.querySelectorAll(".page-hero__scroll_link").forEach(e=>{e.addEventListener("click",(function(t){t.preventDefault(),a.scrollTo(e.offsetTop+e.offsetHeight+window.innerHeight/2.7)}))}),requestAnimationFrame((function e(t){a.raf(t),requestAnimationFrame(e)})),document.querySelectorAll(".services-section__wrapper").forEach(t=>{let r=0;t.querySelector(".services-section__list").querySelectorAll(".services-section__card").forEach(e=>{r+=e.offsetWidth}),gsap.to(t.querySelector(".services-section__list"),{transform:`translate3d(-${t.scrollWidth-e}px,0,0.003px)`,ease:"none",scrollTrigger:{trigger:t.closest("section"),scrub:!0,pin:!0,start:"center center",end:r+" center"}})});let g=!1,m=[];document.querySelectorAll("[data-change-theme-to]").forEach((e,o)=>{let s,a,l=document.querySelectorAll("[data-change-theme-to]")[o],c=o-1!=-1&&document.querySelectorAll("[data-change-theme-to]")[o-1],i=gsap.timeline();m.push(i),"light"==l.dataset.changeThemeTo?(gsap.set(r,{"--background-color":"rgba(11,11,12,1)","--theme-color-1":"rgb(255,255,255)","--theme-color-1-reverse":"rgb(23,23,24)","--theme-color-3":"rgb(79,79,87)","--theme-progress":0,"--theme-progress-reverse":1}),i.to(r,{"--background-color":"rgba(255,255,255,1)","--theme-color-1":"rgb(23,23,24)","--theme-color-1-reverse":"rgb(255,255,255)","--theme-color-3":"rgb(142,148,160)","--theme-progress":1,"--theme-progress-reverse":0})):(gsap.set(r,{"--background-color":"rgb(255,255,255)","--theme-color-1":"rgb(23,23,24)","--theme-color-1-reverse":"rgb(255,255,255)","--theme-progress":1,"--theme-progress-reverse":0,"--theme-color-3":"rgb(142,148,160)"}),i.to(r,{"--background-color":"rgb(11,11,12)","--theme-color-1":"rgb(255,255,255)","--theme-color-1-reverse":"rgb(23,23,24)","--theme-progress":0,"--theme-progress-reverse":1,"--theme-color-3":"rgb(79,79,87)"})),i.pause(),l.hasAttribute("data-change-theme-on-top")?(s="+100 bottom",a="+500 bottom"):(s=`-${window.innerHeight/7} 15%`,a=`+${window.innerHeight/3} 15%`),gsap.to(e,{scrollTrigger:{trigger:e,start:`-=${window.innerHeight/2} top`,end:`-=${window.innerHeight/2} top`,onEnter:function(){"light"==l.dataset.changeThemeTo?(t.classList.remove("is-dark"),gsap.set(r,{"--theme-color-2":"#171718","--background-color-2":"rgba(255,255,255,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.add("is-reverse-theme")})):(t.classList.add("is-dark"),gsap.set(r,{"--theme-color-2":"#FFF","--background-color-2":"rgba(11,11,12,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.remove("is-reverse-theme")}))},onEnterBack:function(e){t.classList.remove("is-dark"),c?"light"==c.dataset.changeThemeTo?(o-1==-1?t.classList.add("is-dark"):t.classList.remove("is-dark"),gsap.set(r,{"--theme-color-2":"#171718","--background-color-2":"rgba(255,255,255,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.add("is-reverse-theme")})):(o-1==-1?t.classList.remove("is-dark"):t.classList.add("is-dark"),gsap.set(r,{"--theme-color-2":"#FFF","--background-color-2":"rgba(11,11,12,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.remove("is-reverse-theme")})):r.classList.contains("is-light-start")?(t.classList.remove("is-dark"),gsap.set(r,{"--theme-color-2":"#171718","--background-color-2":"rgba(255,255,255,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.add("is-reverse-theme")})):(t.classList.add("is-dark"),gsap.set(r,{"--theme-color-2":"#171718","--theme-color-2-reverse":"#fff","--background-color-2":"rgba(255,255,255,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.remove("is-reverse-theme")}))}}}),ScrollTrigger.create({trigger:l,scrub:1,start:s,end:a,onUpdate:e=>{i.progress(e.progress),0==o&&1==e.progress&&(g=!0)}})}),g||(g=!0,r.classList.contains("is-light-start")?(gsap.set(r,{"--theme-progress":1,"--theme-progress-reverse":0,"--theme-color-2":"#171718","--theme-color-3":"rgb(142,148,160)","--background-color-2":"rgba(255,255,255,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.add("is-reverse-theme")})):(t.classList.add("is-dark"),r.style.setProperty("--background-color-2","rgba(11,11,12,1)"),gsap.set(r,{"--background-color":"rgba(11,11,12,1)","--theme-color-1":"rgb(255,255,255)","--theme-color-1-reverse":"rgb(23,23,24)","--theme-color-3":"rgb(79,79,87)","--theme-progress":0,"--theme-progress-reverse":1}))),document.querySelectorAll(".gallery-slider").forEach(e=>{gsap.fromTo(e,{"--width":"50%"},{"--width":"100%",scrollTrigger:{trigger:e,scrub:!0,start:"top bottom",end:"bottom bottom"}})}),document.querySelectorAll(".video").forEach(e=>{gsap.fromTo(e,{"--width":"50%"},{"--width":"100%",scrollTrigger:{trigger:e,scrub:!0,start:"top bottom",end:"bottom bottom"}})}),document.querySelectorAll(".services").forEach(e=>{gsap.to(e.querySelector(".services__row"),{scrollTrigger:{trigger:e.querySelector(".services__col"),scrub:!0,pin:!0,start:`=-${s.offsetHeight}px top`,end:"bottom bottom"}})})}),g.add("(max-width: 991px)",()=>{n(),d();let e=!1,o=[];document.querySelectorAll(".page-hero__scroll_link").forEach(e=>{e.addEventListener("click",(function(t){t.preventDefault(),window.scrollTo({left:0,top:e.offsetTop+e.offsetHeight+150,behavior:"smooth"})}))}),document.querySelectorAll("[data-change-theme-to]").forEach((s,a)=>{let l,c,i,n=document.querySelectorAll("[data-change-theme-to]")[a],d=a-1!=-1&&document.querySelectorAll("[data-change-theme-to]")[a-1],g=gsap.timeline();o.push(g),l="light"==n.dataset.changeThemeTo?gsap.fromTo(r,{immediateRender:!1,paused:!0,"--background-color":"rgba(11,11,12,1)","--theme-color-1":"rgb(255,255,255)","--theme-color-1-reverse":"rgb(23,23,24)","--theme-progress":0,"--theme-progress-reverse":1},{"--background-color":"rgba(255,255,255,1)","--theme-color-1":"rgb(23,23,24)","--theme-color-1-reverse":"rgb(255,255,255)","--theme-progress":1,"--theme-progress-reverse":0}):gsap.fromTo(r,{immediateRender:!1,paused:!0,"--background-color":"rgb(255,255,255)","--theme-color-1":"rgb(23,23,24)","--theme-color-1-reverse":"rgb(255,255,255)","--theme-progress":1,"--theme-progress-reverse":0},{"--background-color":"rgb(11,11,12)","--theme-color-1":"rgb(255,255,255)","--theme-color-1-reverse":"rgb(23,23,24)","--theme-progress":0,"--theme-progress-reverse":1}),g.pause(),n.hasAttribute("data-change-theme-on-top")?(c="+100 bottom",i="+500 bottom"):(c=`-${window.innerHeight/7} 15%`,i=`+${window.innerHeight/3} 15%`),gsap.to(s,{scrollTrigger:{trigger:s,start:"-=500 top",end:"-=500 top",onEnter:function(){"light"==n.dataset.changeThemeTo?(t.classList.remove("is-dark"),gsap.set(r,{"--theme-color-2":"#171718","--background-color-2":"rgba(255,255,255,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.add("is-reverse-theme")})):(t.classList.add("is-dark"),gsap.set(r,{"--theme-color-2":"#FFF","--background-color-2":"rgba(11,11,12,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.remove("is-reverse-theme")}))},onEnterBack:function(e){t.classList.remove("is-dark"),d?"light"==d.dataset.changeThemeTo?(a-1==-1?t.classList.add("is-dark"):t.classList.remove("is-dark"),gsap.set(r,{"--theme-color-2":"#171718","--background-color-2":"rgba(255,255,255,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.add("is-reverse-theme")})):(a-1==-1?t.classList.remove("is-dark"):t.classList.add("is-dark"),gsap.set(r,{"--theme-color-2":"#FFF","--background-color-2":"rgba(11,11,12,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.remove("is-reverse-theme")})):(t.classList.add("is-dark"),gsap.set(r,{"--theme-color-2":"#171718","--theme-color-2-reverse":"#fff","--background-color-2":"rgba(255,255,255,1)"}),document.querySelectorAll(".start-button").forEach(e=>{e.classList.remove("is-reverse-theme")}))}}}),ScrollTrigger.create({trigger:n,scrub:1,start:c,end:i,animation:l,onUpdate:t=>{g.progress(t.progress),0==a&&1==t.progress&&(e=!0)}})}),e||(e=!0,r.classList.contains("is-light-start")?(gsap.set(r,{"--theme-progress":1,"--theme-progress-reverse":0,"--theme-color-2":"#171718"}),s.classList.add("is-light"),document.querySelectorAll(".start-button").forEach(e=>{e.classList.add("is-reverse-theme")})):(t.classList.add("is-dark"),gsap.set(r,{"--background-color":"rgba(11,11,12,1)","--theme-progress":0,"--theme-progress-reverse":1,"--theme-color-1":"rgb(255,255,255)","--theme-color-1-reverse":"rgb(23,23,24)"}))),document.querySelectorAll(".video").forEach(e=>{gsap.fromTo(e,{"--width":"60%"},{"--width":"100%",scrollTrigger:{trigger:e,scrub:!0,start:"top bottom",end:"bottom bottom"}})}),document.querySelectorAll(".gallery-slider").forEach(e=>{const t=gsap.timeline({paused:!0});t.set(e,{"--width":"90%"}),t.to(e,{"--width":"100%"}),ScrollTrigger.create({trigger:e,scrub:!0,start:"top bottom",end:"bottom bottom",onUpdate:e=>{t.progress(e.progress)}})})}),window.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-animation]").forEach(e=>{if("split-fade-up"==e.dataset.animation){let t=new SplitType(e,{types:"lines"});Array.from(t.lines).forEach(e=>{e.innerHTML=`<div class="line-inner">${e.innerHTML}</div>`}),gsap.set(e.querySelectorAll(".line-inner"),{transform:"translate(0,100%)",opacity:0})}e.dataset.animationDelay&&e.style.setProperty("--delay",e.dataset.animationDelay+"s");const t=!!e.dataset.animationAnchor&&document.querySelector(e.dataset.animationAnchor);"lines-up"==e.dataset.animation&&document.querySelectorAll(".split-lines").forEach(e=>{let r=new SplitType(e,{types:"lines"});Array.from(r.lines).forEach(e=>{let t;t=e.cloneNode(!0),t.classList.remove("line"),t.classList.add("line-inner"),e.innerHTML="",e.append(t)}),gsap.set(e.querySelectorAll(".line"),{"--transform":"translate3d(0,100%,0.0001px)"}),gsap.to(e.querySelectorAll(".line"),{"--transform":"translate3d(0,0,0.0001px)",stagger:.15,delay:e.dataset.animationDelay?e.dataset.animationDelay:0,scrollTrigger:{trigger:t||e}})});const r=new IntersectionObserver((function(t){t.forEach(t=>{t.isIntersecting?e.classList.contains("lazy")?"loaded"==e.dataset.llStatus?(e.classList.add("is-animated"),"VIDEO"==e.nodeName&&e.play()):e.classList.add("is-animated-lazy"):(e.classList.add("is-animated"),"split-fade-up"==e.dataset.animation&&e.querySelector(".line")&&gsap.to(e.querySelectorAll(".line-inner"),{delay:e.dataset.animationDelay?Number(e.dataset.animationDelay):0,opacity:1,stagger:.25,transform:"translate(0,0)"})):e.hasAttribute("data-animation-once")||(e.classList.remove("is-animated"),e.classList.remove("is-animated-lazy"),"VIDEO"==e.nodeName&&e.pause(),"split-fade-up"==e.dataset.animation&&e.querySelector(".line")&&gsap.set(e.querySelectorAll(".line-inner"),{transform:"translate(0,75%)",opacity:0}))})}));t?r.observe(t):r.observe(e)}),document.querySelectorAll(".anim-icons").forEach(e=>{const t=e.querySelectorAll("svg");t[0].style.opacity=1;let r=1;setInterval(()=>{t[r-1].style.removeProperty("opacity"),r==t.length&&(r=0),t[r].style.opacity=1,r++},1e3)})}))}